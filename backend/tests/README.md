# Тестирование подключения к базе данных

## Описание

В этой директории содержатся тесты для проверки подключения к базе данных и получения информации о пациентах.

## Доступные тесты

### 1. `test_db_patients_simple.py`

Простой тест, который проверяет:
- Подключение к базе данных
- Возможность получения списка пациентов

#### Запуск:
```bash
cd backend
python tests/test_db_patients_simple.py
```

#### Опции:
- `--details`, `-d`: Показать подробную информацию о пациентах
- `--quiet`, `-q`: Не выводить лишнюю информацию

Пример:
```bash
python tests/test_db_patients_simple.py --details
```

### 2. `test_db_patients.py`

Расширенный тест, который дополнительно:
- Проверяет наличие тестовых данных
- Создает тестовых пациентов, если они отсутствуют
- Предоставляет более подробный вывод

#### Запуск:
```bash
cd backend
python tests/test_db_patients.py
```

## Что тестируется

Тесты проверяют следующую функциональность:

1. **Подключение к базе данных**: Проверяется, что приложение может установить соединение с базой данных.
2. **Получение списка пациентов**: Проверяется, что можно получить список всех пациентов из базы данных.
3. **Доступ к атрибутам пациента**: Проверяется, что можно получить доступ к атрибутам пациента (ID, имя, дата рождения, пол и т.д.).

## Зависимости

Тесты используют следующие компоненты приложения:

- `app.db.session.SessionLocal` - для создания сессии базы данных
- `app.models.patient.Patient` - модель пациента
- `app.crud.crud_patient.patient` - CRUD операции для пациентов

## Пример успешного выполнения

```
Тест: Подключение к базе данных и получение списка пациентов
Подключаюсь к базе данных...
Получаю список пациентов...
✓ Успешно подключился к базе данных!
✓ Найдено пациентов: 3
Соединение с базой данных закрыто